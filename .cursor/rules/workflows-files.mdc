---
globs: .github/workflows/*.yml,.github/workflows/*.yaml
---

# GitHub Workflows Rules

## Core Principles
- **Declarative**: minimize complex bash logic; use official actions and reusable workflows where possible.  
- **Performance**: apply caching, matrix builds, parallel jobs, precise triggers, and shallow checkouts.  
- **Security**: follow least privilege, pin actions by SHA, use `secrets` only, and rely on protected environments.  
- **Reliability**: enable `fail-fast`, set timeouts, retry critical steps, and ensure deterministic builds.  

---

## Naming and Structure
- **Workflow and file names**: clear, consistent, and stable — `name` must reflect the purpose.  
- **One workflow = one goal**: separate build, test, release, and lint workflows.  
- **Local logic → composite actions** (`.github/actions/...`) or **reusable workflows**.  
- **Shared constants/strategies**: move into `workflow_call` with input parameters.  